!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(1),o=n(s),a=i(2),r=n(a);(0,o.default)(document).on("ready",function(){(0,r.default)()})},function(e,t){e.exports=jQuery},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=isoLayout=function(){var e=function(e){var t={x:0,y:0};if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=i.pageX,t.y=i.pageY}else"mousedown"!=e.type&&"mouseup"!=e.type&&"mousemove"!=e.type&&"mouseover"!=e.type&&"mouseout"!=e.type&&"mouseenter"!=e.type&&"mouseleave"!=e.type||(t.x=e.pageX,t.y=e.pageY);return t},t=function(){function e(t,i){n(this,e),this.grid=t,this.element=i,this.currentcoordinates=JSON.parse(i.attr("data-coordinates"))}return s(e,[{key:"getPosition",value:function(){return[(this.currentcoordinates[0]-this.currentcoordinates[1])*this.grid.tile_width/2+this.grid.center[0]-this.grid.tile_width/2,(this.currentcoordinates[0]+this.currentcoordinates[1])*this.grid.tile_height/2+this.grid.center[1]-this.grid.tile_height/2]}}]),e}(),i=function(){function t(e,i,s,o){n(this,t),this.blocks=[],this.container=e,this.element=i,this.center=[parseInt(i.width()/2),290],this.expanded=!1,this.tile_width=s,this.tile_height=o,this.dragging=!1,this.disableClick=!1,this.mouse_start_x=0,this.mouse_start_y=0,this.mouse_last_x=0,this.mouse_last_y=0,this.clickedElement}return s(t,[{key:"addBlock",value:function(e){this.blocks.push(e)}},{key:"disable",value:function(){this.expanded=!this.expanded,this.expanded?this.element.parent(".isometric-layout").addClass("expanded"):this.element.parent(".isometric-layout").removeClass("expanded"),this.update()}},{key:"update",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,s=this.blocks[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var o=n.value,a=0;this.expanded?"[]"==o.element.attr("data-coordinates-expanded")?o.element.addClass("hidden"):o.currentcoordinates=JSON.parse(o.element.attr("data-coordinates-expanded")):(o.element.removeClass("hidden"),o.currentcoordinates=JSON.parse(o.element.attr("data-coordinates")),a=30*parseInt(o.element.attr("data-floor"),10)),o.element.css({left:o.getPosition()[0],top:o.getPosition()[1]+a})}}catch(e){t=!0,i=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw i}}}},{key:"startDrag",value:function(t){this.expanded&&!1===this.dragging&&this.container.hasClass("expanded-view")&&(t.preventDefault(),this.mouse_start_x=this.mouse_last_x=e(t).x,this.mouse_start_y=this.mouse_last_y=e(t).y,this.mouse_start_x=this.mouse_last_x=e(t).x,this.mouse_start_y=this.mouse_last_y=e(t).y,this.dragging=!0)}},{key:"drag",value:function(t){if(this.expanded&&!0===this.dragging){var i=e(t).x-this.mouse_last_x+parseInt(this.element.css("left")),n=e(t).y-this.mouse_last_y+parseInt(this.element.css("top"));this.element.css({left:i,top:n}),this.mouse_last_x=e(t).x,this.mouse_last_y=e(t).y}}},{key:"endDrag",value:function(){this.expanded&&this.dragging&&(this.mouse_start_x===this.mouse_last_x&&this.mouse_start_y===this.mouse_last_y&&this.clickedElement&&this.clickedElement.find(".content-detail")[0]&&(this.clickedElement.addClass("active"),this.container.addClass("detail-view"),this.container.removeClass("expanded-view"),this.container.removeClass("home-view"),(0,a.default)(".content-detail-container").html(""),(0,a.default)(".content-detail-container").html(this.clickedElement.find(".content-detail").html()),this.element.css({left:this.center[0]-(this.clickedElement.position().left+this.clickedElement.width()+90),top:this.center[1]/2-(this.clickedElement.position().top+this.clickedElement.height())+300})),this.mouse_start_x=this.mouse_last_x=0,this.mouse_start_y=this.mouse_last_y=0,this.dragging=!1,this.clickedElement=!1)}},{key:"showExpandedView",value:function(){this.expanded=!0,this.update(),this.element.find(".isometric-block").removeClass("active"),this.container.addClass("expanded-view"),this.container.removeClass("detail-view"),this.container.removeClass("home-view")}},{key:"showHomeView",value:function(){this.expanded=!1,this.update(),this.container.removeClass("expanded-view"),this.container.removeClass("detail-view"),this.container.addClass("home-view"),this.element.css({left:0,top:0})}},{key:"resize",value:function(){this.center[0]=parseInt(this.element.width()/2),this.update()}}]),t}();if((0,a.default)(".isometric-layout")[0]){console.log("here");var o=new i((0,a.default)(".isometric-layout"),(0,a.default)(".isometric-grid"),200,116);(0,a.default)(".isometric-grid .isometric-block").each(function(){o.addBlock(new t(o,(0,a.default)(this)))}),o.container.hasClass("expanded-view")&&(o.expanded=!0),o.update(),o.container.addClass("ready"),(0,a.default)(".isometric-grid").on("mousedown touchstart",function(e){o.startDrag(e)}),(0,a.default)(document).on("mousemove touchmove",function(e){o.drag(e)}),(0,a.default)(document).on("mouseup touchend",function(e){o.endDrag()}),(0,a.default)(".isometric-block").on("click touch",function(e){o.expanded||o.showExpandedView()}),(0,a.default)(".showExpandedView").on("click touch",function(e){e.preventDefault(),o.showExpandedView()}),(0,a.default)(".showHomeView").on("click touch",function(e){e.preventDefault(),o.showHomeView()}),(0,a.default)(".isometric-block").on("click touch",function(e){e.preventDefault()}).on("mousedown touchstart",function(e){e.preventDefault(),o.clickedElement=(0,a.default)(this)}),(0,a.default)(".information-container-detail, .focus-background").on("click touch",function(e){o.showExpandedView()}),(0,a.default)(".content-detail-container").click(function(e){e.stopPropagation()}),(0,a.default)(window).resize(function(){o.resize()})}}}]);
//# sourceMappingURL=house-of-isometric.min.js.map
